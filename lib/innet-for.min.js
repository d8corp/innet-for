var innetFor=function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=r(t);function o(e,t){return"function"==typeof e?e(t):void 0===e?t:t[e]}return function(r,u,c,f){var i,l,v=r.props,d=r.children,s=v.size,h=void 0===s?1/0:s,m=v.key,w=d[0],p=v.of;if("function"==typeof p||"function"==typeof h){var y,b="function"==typeof h?new n.Cache(h):{value:h},x=document.createComment("for");t.append(u,x),n.onClear((function(){k.forEach((function(e){return e.watcher.destructor()})),null==y||y.destructor(),t.remove(x)}));var k=new Map,_=[];new n.Watch((function(r){var u,i,l,d,s="function"==typeof p?p(r):p;if(r){var h=_,C=k;k=new Map,_=[];var W=0,g=function(e){if(b.value<=W)return"break";y&&(y.destructor(),y=void 0,t.clear(x));var r=o(m,e);if(k.has(r))return"continue";if(r===h[W])k.set(r,C.get(r)),C.delete(r);else if(C.has(e)){var u=C.get(e);C.delete(r),u.index.value=W,k.set(r,u),W?t.after(k.get(_[W-1]).comment,u.comment):t.prepend(x,u.comment)}else{var i=document.createComment(""),l=new n.State(W);W?t.after(k.get(_[W-1]).comment,i):t.prepend(x,i);var v=n.unwatch((function(){return new n.Watch((function(n){n&&t.clear(i),a.default(w(e,(function(){return l.value})),i,c,f)}))}));k.set(r,{comment:i,value:e,index:l,watcher:v})}_.push(r),W++};try{for(var S=e.__values(s),E=S.next();!E.done;E=S.next()){if("break"===g(E.value))break}}catch(e){u={error:e}}finally{try{E&&!E.done&&(i=S.return)&&i.call(S)}finally{if(u)throw u.error}}C.forEach((function(e){var n=e.comment;e.watcher.destructor(),t.remove(n)})),!W&&v.else&&n.unwatch((function(){y=new n.Watch((function(){return a.default(v.else,x,c,f)}))}))}else{W=0;var M=function(e){if(b.value<=W)return"break";var r=o(m,e);if(k.has(r))return"continue";var u=document.createComment(""),i=new n.State(W++);_.push(r),t.append(x,u);var l=n.unwatch((function(){return new n.Watch((function(n){n&&t.clear(u),a.default(w(e,(function(){return i.value})),u,c,f)}))}));k.set(o(m,e),{comment:u,value:e,index:i,watcher:l})};try{for(var j=e.__values(s),z=j.next();!z.done;z=j.next()){if("break"===M(z.value))break}}catch(e){l={error:e}}finally{try{z&&!z.done&&(d=j.return)&&d.call(j)}finally{if(l)throw l.error}}!W&&v.else&&n.unwatch((function(){y=new n.Watch((function(){return a.default(v.else,x,c,f)}))}))}}))}else{var C=[],W=0;try{for(var g=e.__values(p),S=g.next();!S.done;S=g.next()){var E=S.value;if(h<=W)break;C.push(w(E,W++))}}catch(e){i={error:e}}finally{try{S&&!S.done&&(l=g.return)&&l.call(g)}finally{if(i)throw i.error}}W?a.default(C,u,c,t.dom):v.else&&a.default(v.else,u,c,t.dom)}}}(tslib,innet,watchState);
